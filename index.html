<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bau & Farm Unternehmen – LegendBuild.de</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');
  body {
    margin: 0; padding: 0;
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #0d1117, #161b22);
    color: #c9d1d9;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  header {
    background: #0f64f2;
    padding: 20px;
    text-align: center;
    font-size: 2.5rem;
    font-weight: 700;
    color: white;
    letter-spacing: 2px;
    text-shadow: 0 0 8px #0f64f2;
  }
  main {
    flex: 1;
    max-width: 900px;
    margin: 30px auto;
    padding: 0 20px;
  }
  h1, h2 {
    color: #58a6ff;
    margin-bottom: 15px;
  }
  section {
    margin-bottom: 50px;
    background: #161b22;
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 0 15px #0f64f2aa;
  }
  a {
    color: #58a6ff;
    text-decoration: none;
    font-weight: 600;
  }
  a:hover {
    text-decoration: underline;
  }
  button, input[type="submit"] {
    background: #0f64f2;
    border: none;
    color: white;
    padding: 12px 25px;
    font-size: 1rem;
    border-radius: 30px;
    cursor: pointer;
    transition: background 0.3s ease;
    font-weight: 600;
  }
  button:hover, input[type="submit"]:hover {
    background: #0a4bc0;
  }
  input, textarea {
    width: 100%;
    padding: 12px 15px;
    margin: 8px 0 20px 0;
    border-radius: 12px;
    border: none;
    background: #0d1117;
    color: #c9d1d9;
    font-size: 1rem;
    resize: vertical;
  }
  input::placeholder, textarea::placeholder {
    color: #8b949e;
  }
  /* FAQ Bot Styles */
  .faq-bot {
    max-width: 600px;
    margin: 0 auto;
  }
  #chat {
    height: 320px;
    background: #0d1117;
    padding: 15px;
    overflow-y: auto;
    border-radius: 12px;
    border: 1.5px solid #0f64f2;
    margin-bottom: 20px;
    box-shadow: 0 0 10px #0f64f2bb;
  }
  .message {
    margin: 10px 0;
    padding: 12px 20px;
    border-radius: 30px;
    max-width: 75%;
    clear: both;
    font-size: 0.95rem;
    line-height: 1.3;
  }
  .user-msg {
    background: #0f64f2;
    color: white;
    float: right;
    text-align: right;
    box-shadow: 0 0 8px #0f64f2;
  }
  .bot-msg {
    background: #21262d;
    color: #c9d1d9;
    float: left;
    box-shadow: 0 0 8px #58a6ff;
  }
  #chat-form {
    display: flex;
    gap: 12px;
  }
  #user-input {
    flex: 1;
    border-radius: 30px;
    border: 1.5px solid #0f64f2;
    background: #0d1117;
    color: #c9d1d9;
    font-size: 1rem;
    padding: 12px 20px;
  }
  #user-input:focus {
    outline: none;
    border-color: #58a6ff;
  }
  /* Footer */
  footer {
    text-align: center;
    padding: 15px 0;
    background: #0d1117;
    color: #8b949e;
    font-size: 0.9rem;
    user-select: none;
    border-top: 1px solid #21262d;
  }
  /* Responsive */
  @media (max-width: 650px) {
    main {
      margin: 20px;
    }
    #chat {
      height: 260px;
    }
    .message {
      max-width: 90%;
    }
  }
</style>
</head>
<body>

<header>
  Bau & Farm Unternehmen – LegendBuild.de
</header>

<main>

  <!-- Kontakt & Discord -->
  <section>
    <h2>Kontakt & Discord</h2>
    <p>Du kannst uns jederzeit über Discord erreichen:</p>
    <p><a href="https://discord.gg/Gcw8rbjC6H" target="_blank" rel="noopener noreferrer">Discord Server beitreten</a></p>
    <p>Oder schreibe direkt eine Nachricht an <strong>Ma254</strong> oder <strong>MJ2311</strong> auf Discord.</p>
  </section>

  <!-- Projektanfrage Formular -->
  <section>
    <h2>Projektanfrage Formular</h2>
    <form id="project-form">
      <label for="playername">Spielername</label>
      <input type="text" id="playername" name="playername" placeholder="Dein Minecraft-Name" required />

      <label for="project">Wunschprojekt</label>
      <textarea id="project" name="project" rows="4" placeholder="Beschreibe dein Bau- oder Farm-Projekt" required></textarea>

      <label for="deadline">Deadline</label>
      <input type="date" id="deadline" name="deadline" required />

      <label for="budget">Budget (€)</label>
      <input type="number" id="budget" name="budget" min="0" step="0.01" placeholder="Dein Budget in Euro" required />

      <input type="submit" value="Anfrage senden" />
    </form>
    <p id="form-status" style="color:#58a6ff; font-weight:600; margin-top:10px;"></p>
  </section>

  <!-- FAQ Bot -->
  <section>
    <h2>FAQ-Bot – Frag mich!</h2>
    <div class="faq-bot">
      <div id="chat">
        <div class="bot-msg message">Hallo! Frag mich was zum Bau- oder Farm-Service.</div>
      </div>
      <form id="chat-form">
        <input type="text" id="user-input" placeholder="Deine Frage..." autocomplete="off" required />
        <button type="submit" aria-label="Frage senden">↵</button>
      </form>
    </div>
  </section>

</main>

<footer>
  Erstellt von Ma254
</footer>

<script>
  // Discord Webhook URL
  const webhookURL = 'https://discord.com/api/webhooks/1380941664537018509/7-sH9hQzyX1mTNxJOWFMIGZh2t8U3MTdSd7ZNYWHDuvwYND6vMwMKHq-oP2I-p-Wz_Zl';

  // Projektanfrage Formular Submission
  const projectForm = document.getElementById('project-form');
  const formStatus = document.getElementById('form-status');

  projectForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    formStatus.textContent = '';

    const playername = projectForm.playername.value.trim();
    const project = projectForm.project.value.trim();
    const deadline = projectForm.deadline.value;
    const budget = projectForm.budget.value.trim();

    if (!playername || !project || !deadline || !budget) {
      formStatus.textContent = 'Bitte alle Felder ausfüllen.';
      return;
    }

    // Discord-Webhook Nachricht formatieren
    const content = `**Neue Projektanfrage**\nSpielername: ${playername}\nProjekt: ${project}\nDeadline: ${deadline}\nBudget: €${budget}`;

    try {
      const res = await fetch(webhookURL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ content })
      });
      if (res.ok) {
        formStatus.style.color = '#2ecc71';
        formStatus.textContent = 'Deine Anfrage wurde erfolgreich gesendet! Danke!';
        projectForm.reset();
      } else {
        throw new Error('Fehler beim Senden der Anfrage.');
      }
    } catch (err) {
      formStatus.style.color = '#e55353';
      formStatus.textContent = 'Leider gab es ein Problem beim Senden. Versuch es später nochmal.';
      console.error(err);
    }
  });

  // FAQ-Bot
  const faq = {
    "wie lange dauert ein bauprojekt?": "Das hängt vom Umfang ab, aber meistens zwischen 1 und 3 Tagen.",
    "wie kann ich dich kontaktieren?": "Am besten über Discord: https://discord.gg/Gcw8rbjC6H",
    "bist du auf legendbuild aktiv?": "Ja, ich baue und farm auf LegendBuild.de.",
    "was kostet ein bauprojekt?": "Das variiert je nach Projekt, du kannst uns über das Anfrageformular dein Budget mitteilen.",
    "welche arten von farmen baust du?": "Ich baue automatische XP-Farmen, Mobfarmen und Erntefarmen.",
    "nimmst du auch komplexe aufträge an?": "Ja, ich nehme auch große und komplexe Projekte an. Kontaktiere mich einfach!",
    "wie kann ich ein bauprojekt anfragen?": "Du kannst unser Projektanfrage-Formular auf der Webseite ausfüllen oder uns auf Discord schreiben."
  };

  const chat = document.getElementById("chat");
  const form = document.getElementById("chat-form");
  const userInput = document.getElementById("user-input");

  function addMessage(text, sender) {
    const msgDiv = document.createElement("div");
    msgDiv.classList.add("message");
    msgDiv.classList.add(sender === "user" ? "user-msg" : "bot-msg");
    msgDiv.textContent = text;
    chat.appendChild(msgDiv);
    chat.scrollTop = chat.scrollHeight;
  }

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    const question = userInput.value.trim();
    if (!question) return;

    addMessage(question, "user");
    userInput.value = "";

    // Einfache FAQ-Suche (Case-insensitive)
    const lowerQ = question.toLowerCase();

    // Suche passendste Antwort
    let answer = "Tut mir leid, das weiß ich gerade nicht. Versuch eine andere Frage.";
    for (const key in faq) {
      if (lowerQ.includes(key)) {
        answer = faq[key];
        break;
      }
    }

    // Antwort nach kurzer Verzögerung anzeigen (für realistischeren Chat)
    setTimeout(() => {
      addMessage(answer, "bot");
    }, 700);
  });
</script>

</body>
</html>
